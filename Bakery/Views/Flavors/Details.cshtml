@{
    Layout = "_Layout";
}
@using Bakery.Models
@model Bakery.Models.Flavor
@using System.Collections.Generic;

<h1 class="jumbotron"><u>Flavor's Details Page!</u></h1>

<h3>@Html.DisplayNameFor(model => model.Name):
     @Html.DisplayFor(model => model.Name)</h3>

     @if(@Model.JoinEntities.Count == 0)
     {
        <p>This Flavor is not assigned a Treats</p>
     }
    else
{
List<FlavorTreat> TreatList = new List<FlavorTreat>();
    @foreach(FlavorTreat treat in Model.JoinEntities)
    {
        TreatList.Add(treat);
    }
    List<FlavorTreat> sortedList = TreatList.OrderBy(FlavorTreat => FlavorTreat.Treat.Name).ToList();

    <h4>This Flavor has the following Treats:</h4>
    <ul class="row">
    @foreach (FlavorTreat join in sortedList)
        {
            <li id="machine">machine: @join.Treat.Name | @join.Treat.Name</li>
            @using (Html.BeginForm("Delete", "Flavors"))
            {
                @Html.Hidden("joinId", @join.FlavorTreatId)
                <input type="submit" value="Delete" class="btn btn-dark" />
            }
        }
    </ul>
}
  <p>@Html.ActionLink("Edit Flavor", "Edit", new { id = Model.FlavorId })</p>
  <p>@Html.ActionLink("Delete Flavor", "Delete", new { id = Model.FlavorId })</p>
  <p>@Html.ActionLink("Add a Treat", "AddTreat", new { id = Model.FlavorId })</p>
